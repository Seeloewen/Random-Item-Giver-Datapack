#Make everyone able to get items if there's no specific setting yet (accounts for players that may join after the reload)
execute as @a run execute as @s unless score @s canGetItems matches 0..1 run scoreboard players set @s canGetItems 1

#Setup the bossbar
bossbar add rigtimer {"text":"Next Random Item","color":"red"}
bossbar set minecraft:rigtimer players @a
bossbar set minecraft:rigtimer color red

execute if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_random_timer:false}} store result bossbar minecraft:rigtimer max run data get storage randomitemgiver:settings general.timer
execute unless score rig randomTimeValue matches ..0 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_random_timer:true}} store result bossbar minecraft:rigtimer max run scoreboard players get rig randomTimeValue
execute if data storage randomitemgiver:settings {general:{enabled:true}} store result bossbar minecraft:rigtimer value run scoreboard players get rig internalTimer

#Add dummy boolean (0 = false, 1 = true)
scoreboard objectives add giveNow dummy
scoreboard players set rig giveNow 0

scoreboard players add rig internalTimer 1

#Check for time if set to random
execute if data storage randomitemgiver:settings {general:{enable_random_timer:true}} if score rig internalTimer >= rig randomTimeValue run scoreboard players set rig giveNow 1
execute if data storage randomitemgiver:settings {general:{enable_random_timer:true}} if score rig internalTimer >= rig randomTimeValue run scoreboard players set rig internalTimer 0
execute if data storage randomitemgiver:settings {general:{enable_random_timer:true}} if score rig giveNow matches 1 store result score rig randomTimeValue run random value 1..1200

#Check for time if not set to random
execute store result score rig tempConversion run data get storage randomitemgiver:settings general.timer
execute if data storage randomitemgiver:settings {general:{enable_random_timer:false}} if score rig internalTimer >= rig tempConversion run scoreboard players set rig giveNow 1
execute if data storage randomitemgiver:settings {general:{enable_random_timer:false}} if score rig internalTimer >= rig tempConversion run scoreboard players set rig internalTimer 0

#Generate random number
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} store result score rig rolledItemId run random value 1..1100

#Regenerate the random number if it hits a disabled loot table (The regenerated number is specified in a way that it never hits another disabled item)
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 1..7 if data storage randomitemgiver:settings {items:{enchanted_books:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 8..15 if data storage randomitemgiver:settings {items:{potions:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 16..23 if data storage randomitemgiver:settings {items:{lingering_potions:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 24..31 if data storage randomitemgiver:settings {items:{splash_potions:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 32..39 if data storage randomitemgiver:settings {items:{tipped_arrows:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 40..47 if data storage randomitemgiver:settings {items:{suspicious_stews:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 48..55 if data storage randomitemgiver:settings {items:{goat_horns:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 56..63 if data storage randomitemgiver:settings {items:{paintings:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 64..71 if data storage randomitemgiver:settings {items:{command_blocks:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 72..79 if data storage randomitemgiver:settings {items:{spawn_eggs:false}} store result score rig rolledItemId run random value 90..1100
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if score rig rolledItemId matches 80..89 if data storage randomitemgiver:settings {items:{other_creatives:false}} store result score rig rolledItemId run random value 90..1100

#Give 1 random item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:1}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:1}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 1

#Give 2 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:2}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:2}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:2}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 2 

#Give 2 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:2}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/02sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:2}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 2

#Give 3 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 3

#Give 3 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/03sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:3}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 3

#Give 5 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 5

#Give 5 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/05sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:4}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 5

#Give 10 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 10

#Give 10 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/10sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:5}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 10

#Give 32 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 32

#Give 32 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/32sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:6}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 32

#Give 64 different items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/01item
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 64

#Give 64 same items
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/64sameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:7}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute if score @s canGetItems matches 1 run scoreboard players add @s randomItemsReceived 64

#Give random amount of different items between 1 to 64
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:8}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/randomdifferentitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:8}} if data storage randomitemgiver:settings {general:{same_items:false}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute as @a run scoreboard players operation @s randomItemsReceived += @s itemsReceivedTemp

#Give random amount of same item between 1 and 64
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:8}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} store result score rig rolledRandomAmount run random value 1..64
execute if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:8}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run function randomitemgiver:give_items/randomsameitems
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:8}} if data storage randomitemgiver:settings {general:{same_items:true}} if data storage randomitemgiver:settings {general:{enabled:true}} run execute as @a run scoreboard players operation @s randomItemsReceived += rig rolledRandomAmount

#Post that you got an item (if enabled)
execute as @a if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{item_amount:1}} if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{show_message:true}} run execute if score @s canGetItems matches 1 run tellraw @s [{text: '(',color: 'gray'},{text: '✸',color: 'aqua'},{text: ') ',color: 'gray'},{text: 'You received a new item!',color: 'aqua'}]
execute as @a if score rig giveNow matches 1 unless data storage randomitemgiver:settings {general:{item_amount:1}} if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{show_message:true}} run execute if score @s canGetItems matches 1 run tellraw @s [{text: '(',color: 'gray'},{text: '✸',color: 'aqua'},{text: ') ',color: 'gray'},{text: 'You received new items!',color: 'aqua'}]

#Play sound that you got an item (if enabled)
execute as @a at @s if data storage randomitemgiver:settings {general:{sound_type:1}} if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_sound:true}} run execute if score @s canGetItems matches 1 run playsound entity.item.pickup player @p
execute as @a at @s if data storage randomitemgiver:settings {general:{sound_type:2}} if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_sound:true}} run execute if score @s canGetItems matches 1 run playsound block.bell.use player @p
execute as @a at @s if data storage randomitemgiver:settings {general:{sound_type:3}} if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_sound:true}} run execute if score @s canGetItems matches 1 run playsound block.amethyst_block.hit player @p
execute as @a at @s if data storage randomitemgiver:settings {general:{sound_type:4}} if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_sound:true}} run execute if score @s canGetItems matches 1 run playsound entity.arrow.hit player @p
execute as @a at @s if data storage randomitemgiver:settings {general:{sound_type:5}} if score rig giveNow matches 1 if data storage randomitemgiver:settings {general:{enabled:true}} if data storage randomitemgiver:settings {general:{enable_sound:true}} run execute if score @s canGetItems matches 1 run playsound entity.experience_orb.pickup player @p

#Remove temporary boolean
scoreboard players set rig giveNow 0
scoreboard objectives remove giveNow
