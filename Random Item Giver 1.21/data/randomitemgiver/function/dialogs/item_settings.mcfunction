#Disable Command Block feedback to hide 'Executed commands from function' message and schedule enabling it again
gamerule sendCommandFeedback false
schedule function randomitemgiver:reset_feedback 1t

$dialog show @p {"type":"minecraft:confirmation","title":[{"text":"Random Item Giver","color":"gold","bold":1},{"text":" - ","color":"gray","bold":1},{"text":"Item Settings","color":"green","bold":1}],"body":{"type":"minecraft:plain_message","contents":{"text":"Use these settings to set the amount of items you want to receive and toggle specific item groups.","color":"yellow"},"width":250},"inputs":[{"type":"minecraft:boolean","key":"same_item","label":{"text":"Give the same item x times","color":"#F9F9B9"},"initial":$(same_item)},{"type":"minecraft:number_range","key":"amount","label":{"text":"Item Amount","color":"#F9F9B9"},"start":1,"end":256,"step":1,"initial":$(amount)},{"type":"minecraft:boolean","key":"random_amount","label":{"text":"Enable random amount of items","color":"#F9F9B9"},"initial":$(random_amount)},{"type":"minecraft:boolean","key":"spawn_eggs","label":{"text":"Give Spawn Eggs","color":"#F9F9B9"},"initial":$(spawn_eggs)},{"type":"minecraft:boolean","key":"command_blocks","label":{"text":"Give Command Blocks","color":"#F9F9B9"},"initial":$(command_blocks)},{"type":"minecraft:boolean","key":"other_creatives","label":{"text":"Enable Other Creative-Only Items","color":"#F9F9B9"},"initial":$(other_creatives)},{"type":"minecraft:boolean","key":"enchanted_books","label":{"text":"Enable Enchanted Books","color":"#F9F9B9"},"initial":$(enchanted_books)},{"type":"minecraft:boolean","key":"potions","label":{"text":"Enable Potions","color":"#F9F9B9"},"initial":$(potions)},{"type":"minecraft:boolean","key":"lingering_potions","label":{"text":"Enable Lingering Potions","color":"#F9F9B9"},"initial":$(lingering_potions)},{"type":"minecraft:boolean","key":"splash_potions","label":{"text":"Enable Splash Potions","color":"#F9F9B9"},"initial":$(splash_potions)},{"type":"minecraft:boolean","key":"tipped_arrows","label":{"text":"Enable Tipped Arrows","color":"#F9F9B9"},"initial":$(tipped_arrows)},{"type":"minecraft:boolean","key":"suspicious_stews","label":{"text":"Enable Suspicious Stews","color":"#F9F9B9"},"initial":$(suspicious_stews)},{"type":"minecraft:boolean","key":"goat_horns","label":{"text":"Enable Goat Horns","color":"#F9F9B9"},"initial":$(goat_horns)},{"type":"minecraft:boolean","key":"paintings","label":{"text":"Enable Paintings","color":"#F9F9B9"},"initial":$(paintings)},{"type":"minecraft:boolean","key":"pottery_sherds","label":{"text":"Enable Pottery Sherds","color":"#F9F9B9"},"initial":$(pottery_sherds)},{"type":"minecraft:boolean","key":"smithing_templates","label":{"text":"Enable Smithing Templates","color":"#F9F9B9"},"initial":$(smithing_templates)}],"yes":{"label":{"text":"Save Changes","color":"green"},"action":{"type":"minecraft:dynamic/run_command","template":"/function randomitemgiver:settings/save_item_settings {same_item: \u0024(same_item), amount: \u0024(amount), random_amount: \u0024(random_amount), spawn_eggs: \u0024(spawn_eggs), command_blocks: \u0024(command_blocks), other_creatives: \u0024(other_creatives), enchanted_books: \u0024(enchanted_books), potions: \u0024(potions), lingering_potions: \u0024(lingering_potions), splash_potions: \u0024(splash_potions), tipped_arrows: \u0024(tipped_arrows), suspicious_stews: \u0024(suspicious_stews), goat_horns: \u0024(goat_horns), paintings: \u0024(paintings), pottery_sherds: \u0024(pottery_sherds), smithing_templates: \u0024(smithing_templates)}"}},"no":{"label":{"text":"Discard Changes","color":"red"}}}