#Disable Command Block feedback to hide 'Executed commands from function' message and schedule enabling it again
gamerule send_command_feedback false
schedule function randomitemgiver:reset_feedback 1t

$dialog show @s {"type":"minecraft:confirmation","title":[{"text":"Random Item Giver","bold":true,"color":"gold"},{"text":" - ","bold":true,"color":"gray"},{"text":"General Settings ","bold":true,"color":"aqua"}],"body":{"type":"minecraft:plain_message","contents":{"text":"These settings control the general behaviour of the datapack.","color":"yellow"},"width":250},"inputs":[{"type":"minecraft:boolean","key":"enabled","label":{"text":"Activate Random Item Giver","color":"#F9F9B9"},"initial":$(enabled)},{"type":"minecraft:text","key":"timer","label":{"text":"Timer (in seconds)","color":"#F9F9B9"},"initial":"$(timer)"},{"type":"minecraft:boolean","key":"enable_random_timer","label":{"text":"Enable random time intervals between 1 - 60s","color":"#F9F9B9"},"initial":$(enable_random_timer)},{"type":"minecraft:boolean","key":"enable_bossbar","label":{"text":"Show item timer in bossbar","color":"#F9F9B9"},"initial":$(enable_bossbar)},{"type":"minecraft:boolean","key":"show_message","label":{"text":"Show chat message when receiving items","color":"#F9F9B9"},"initial":$(show_message)},{"type":"minecraft:boolean","key":"enable_sound","label":{"text":"Play sound effect when receiving an item","color":"#F9F9B9"},"initial":$(enable_sound)},{"type":"minecraft:number_range","key":"sound_type","width":200,"label":{"text":"Sound effect","color":"#F9F9B9"},"start":1,"end":5,"step":1,"initial":$(sound_type)},{"type":"minecraft:boolean","key":"show_scoreboard","label":{"text":"Show amount of received items on scoreboard","color":"#F9F9B9"},"initial":$(show_scoreboard)},{"type":"minecraft:boolean","key":"show_useless_warnings","label":{"text":"Show a warning when receiving useless creative-only items","color":"#F9F9B9"},"initial":$(show_useless_warnings)}],"yes":{"label":{"text":"Save Changes","color":"green"},"action":{"type":"minecraft:dynamic/run_command","template":"/function randomitemgiver:settings/save_general_settings {enabled: \u0024(enabled), timer: \u0024(timer), enable_random_timer: \u0024(enable_random_timer), enable_bossbar: \u0024(enable_bossbar), show_message: \u0024(show_message), enable_sound: \u0024(enable_sound), sound_type: \u0024(sound_type), show_scoreboard: \u0024(show_scoreboard), show_useless_warnings: \u0024(show_useless_warnings)}"}},"no":{"label":{"text":"Discard Changes","color":"red"}}}